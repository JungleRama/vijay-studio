<section id="projects" class="projects-section">
    <h2 class="section-title">My Projects</h2>
    <div class="projects-grid" id="projects-grid">
      
    </div>
  </section>
  
  <script>
   document.addEventListener('DOMContentLoaded', loadProjects);

function loadProjects() {
  fetch('{{ "projects.json" | asset_url }}')
    .then(response => response.json())
    .then(data => {
      const projectsGrid = document.getElementById('projects-grid');
      data.forEach(project => {
        const projectCard = document.createElement('div');
        projectCard.classList.add('project-card');

      
        const safeDescription = project.description.replace(/'/g, "\\'").replace(/"/g, '&quot;');

        
        projectCard.innerHTML = `
          <img src="${project.image}" alt="${project.name} Image" class="project-image">
          <h3>${project.name}</h3>
          <p class="short-description">
            ${safeDescription.substring(0, 100)}... 
            <span class="read-more" onclick="toggleFullDescription(this, '${safeDescription}')">Read More</span>
          </p>
          <a href="${project.github}" target="_blank" class="project-link">View on GitHub</a>
          <a href="${project.drive_link}" target="_blank" class="project-link">Download from Google Drive</a>
        `;
        projectsGrid.appendChild(projectCard);
      });
    });
}

  function toggleFullDescription(element, fullDescription) {
    const parentParagraph = element.parentNode;
    if (parentParagraph.classList.contains('expanded')) {
      parentParagraph.classList.remove('expanded');
      element.innerText = 'Read More';
      parentParagraph.innerHTML = `${fullDescription.substring(0, 100)}... <span class="read-more" onclick="toggleFullDescription(this, '${fullDescription}')">Read More</span>`;
    } else {
      parentParagraph.classList.add('expanded');
      parentParagraph.innerHTML = `${fullDescription} <span class="read-more" onclick="toggleFullDescription(this, '${fullDescription}')">Read Less</span>`;
    }
  }
  </script>
  
  <style>
    
    .projects-section {
      background-color: #1B3136;
      padding: 40px 20px;
      text-align: center;
    }
  
    .section-title {
      color: #C28852;  
      font-size: 3rem;
      margin-bottom: 20px;
      font-weight: bold;
    }
  
    .projects-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
  
    .project-card {
      background-color: #1E6B6D;
      border: 1px solid #C28852;
      padding: 20px;
      border-radius: 8px;
      transition: transform 0.3s, box-shadow 0.3s;
      box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
    }
  
    .project-card:hover {
      transform: scale(1.05);
      box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.4);
    }
  
    .project-card h3 {
      color: #C28852;
      font-size: 3rem;
      font-weight: bold;
      margin-bottom: 10px;
    }

      .short-description {
    color: #C28852;
    font-size: 1.1rem;
    margin-bottom: 15px;
    transition: max-height 0.3s ease-out;
  }

  .short-description.expanded {
    max-height: none;
  }

  .read-more {
    color: #C28852;
    cursor: pointer;
    font-weight: bold;
    text-decoration: underline;
  }

  .read-more:hover {
    color: #FFB347;
  }
  
    .project-card p {
      color: #C28852;
      font-size: 2rem;
      margin-bottom: 15px;
    }
  
    .project-link {
      display: block;
      margin-top: 10px;
      color: #C28852;
      text-decoration: none;
      font-weight: bold;
      font-size: 2rem;
    }
  
    .project-link:hover {
      text-decoration: underline;
    }
  
    .project-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 5px;
      margin-bottom: 15px;
    }
  </style>
  
  
  {% schema %}
  {
    "name": "Projects Section",
    "settings": [],
    "presets": [
      {
        "name": "Projects Section",
        "category": "Custom"
      }
    ]
  }
  {% endschema %}